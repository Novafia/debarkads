<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Team Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-blue-700 text-white p-6 flex justify-between items-center shadow-md">
        <h1 class="text-3xl font-bold">Team Dashboard</h1>
        <button class="bg-red-600 hover:bg-red-700 text-white p-3 rounded-lg shadow-md" id="logout-button">Logout</button>
    </header>
    <div class="flex">
        <nav class="bg-gray-800 text-white w-64 min-h-screen p-6">
            <ul class="space-y-4">
                <li>
                    <button class="tab-button w-full text-left p-3 rounded-lg hover:bg-gray-700" data-tab="home">
                        <i class="fas fa-home mr-2"></i> Home
                    </button>
                </li>
                <li>
                    <button class="tab-button w-full text-left p-3 rounded-lg hover:bg-gray-700" data-tab="time-tracker">
                        <i class="fas fa-clock mr-2"></i> Time in Motion Tracker
                    </button>
                </li>
                <li>
                    <button class="tab-button w-full text-left p-3 rounded-lg hover:bg-gray-700" data-tab="report">
                        <i class="fas fa-chart-line mr-2"></i> Report
                    </button>
                </li>
                <li>
                    <button class="tab-button w-full text-left p-3 rounded-lg hover:bg-gray-700" data-tab="score">
                        <i class="fas fa-star mr-2"></i> Score
                    </button>
                </li>
                <li>
                    <button class="tab-button w-full text-left p-3 rounded-lg hover:bg-gray-700" data-tab="admin">
                        <i class="fas fa-cogs mr-2"></i> Admin
                    </button>
                </li>
            </ul>
        </nav>
        <main class="flex-1 p-6">
            <div class="tab-content" id="home">
                <h2 class="text-2xl font-bold mb-4">Welcome, <span id="member-name">Member Name</span></h2>
                <div class="mb-4">
                    <label class="block text-lg font-medium" for="task">Select Task:</label>
                    <select class="border p-3 w-full rounded-lg shadow-md" id="task">
                        <option value="Task 1">Task 1</option>
                        <option value="Task 2">Task 2</option>
                        <option value="Task 3">Task 3</option>
                    </select>
                </div>
                <div class="mb-4 flex space-x-4">
                    <button class="bg-green-600 hover:bg-green-700 text-white p-3 rounded-lg shadow-md" id="start-button">Start</button>
                    <button class="bg-red-600 hover:bg-red-700 text-white p-3 rounded-lg shadow-md" id="end-button">End</button>
                </div>
                <div class="mb-4">
                    <span class="text-2xl font-bold" id="timer">00:00:00</span>
                </div>
                <table class="w-full border-collapse border border-gray-300 shadow-md rounded-lg">
                    <thead class="bg-gray-200">
                        <tr>
                            <th class="border p-3">Date</th>
                            <th class="border p-3">Name</th>
                            <th class="border p-3">Task</th>
                            <th class="border p-3">Start Time ```html
                            </th>
                            <th class="border p-3">End Time</th>
                            <th class="border p-3">Duration</th>
                            <th class="border p-3">Note</th>
                        </tr>
                    </thead>
                    <tbody id="records-table">
                        <!-- Recent records will be populated here -->
                    </tbody>
                </table>
            </div>
            <div class="tab-content hidden" id="time-tracker">
                <h2 class="text-2xl font-bold mb-4">Time in Motion Tracker</h2>
                <p>Track your time in motion with detailed analytics and insights.</p>
                <img alt="Graph showing time in motion tracking data" class="mt-4 rounded-lg shadow-md" height="400" src="https://storage.googleapis.com/a1aa/image/htOCb1ogD4asFxmmJaBg6J1xCgJT5zL5SxwW7NEf8eKurdwTA.jpg" width="600"/>
            </div>
            <div class="tab-content hidden" id="report">
                <h2 class="text-2xl font-bold mb-4">Report</h2>
                <p>Generate detailed reports of your activities and performance.</p>
                <img alt="Report showing detailed performance metrics" class="mt-4 rounded-lg shadow-md" height="400" src="https://storage.googleapis.com/a1aa/image/DZfqg7eOh2oG7ETFvTqsAuumhJ63FGwSdoUGbpt8WIzwrdwTA.jpg" width="600"/>
            </div>
            <div class="tab-content hidden" id="score">
                <h2 class="text-2xl font-bold mb-4">Score</h2>
                <p>View your performance scores and compare with team members.</p>
                <img alt="Scoreboard showing team performance scores" class="mt-4 rounded-lg shadow-md" height="400" src="https://storage.googleapis.com/a1aa/image/3k17Kx4ze5VmXy2i9QnZeTQmJ0bF8VtyOpzIdDK2KrCvrdwTA.jpg" width="600"/>
            </div>
            <div class="tab-content hidden" id="admin">
                <h2 class="text-2xl font-bold mb-4">Admin</h2>
                <p>Manage team settings, members, and permissions.</p>
                <img alt="Admin panel showing team management options" class="mt-4 rounded-lg shadow-md" height="400" src="https://storage.googleapis.com/a1aa/image/yaqzK8iDSP5lCZYA6dIewJAa2jvjF6nL3olKOQDqScv21O4JA.jpg" width="600"/>
            </div>
            <div class="hidden" id="member-selection">
                <h2 class="text-2xl font-bold mb-4">Select a Member</h2>
                <select class="border p-3 w-full rounded-lg shadow-md" id="member-select">
                    <option value="Member 1">Member 1</option>
                    <option value="Member 2">Member 2</option>
                    <option value="Member 3">Member 3</option>
                </select>
                <button class="bg-blue-600 hover:bg-blue-700 text-white p-3 mt-4 rounded-lg shadow-md" id="select-member">Select Member</button>
            </div>
        </main>
    </div>
    <script>
        const tabs = document.querySelectorAll('.tab-content');
        const tabButtons = document.querySelectorAll('.tab-button');
        const memberNameElement = document.getElementById('member-name');
        const startButton = document.getElementById('start-button');
        const endButton = document.getElementById('end-button');
        const timerElement = document.getElementById('timer');
        const recordsTable = document.getElementById('records-table');
        const logoutButton = document.getElementById('logout-button');
        const memberSelection = document.getElementById('member-selection');
        const selectMemberButton = document.getElementById('select-member');
        const taskSelect = document.getElementById('task');

        let timerInterval;
        let startTime;
        let isRunning = false;

        // Function to switch tabs
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabToShow = button.getAttribute('data-tab');
                tabs.forEach(tab => {
                    tab.classList.toggle(' hidden', tab.id !== tabToShow);
                });
            });
        });

        // Function to start the timer
        startButton.addEventListener('click', () => {
            if (!isRunning) {
                startTime = new Date();
                isRunning = true;
                startButton.disabled = true;
                taskSelect.disabled = true;
                endButton.classList.remove('hidden');
                timerInterval = setInterval(updateTimer, 1000);
            }
        });

        // Function to end the timer
        endButton.addEventListener('click', () => {
            if (isRunning) {
                clearInterval(timerInterval);
                isRunning = false;
                endButton.classList.add('hidden');
                startButton.disabled = false;
                taskSelect.disabled = false;
                addRecord();
            }
        });

        // Function to update the timer display
        function updateTimer() {
            const currentTime = new Date();
            const duration = new Date(currentTime - startTime);
            const hours = String(duration.getUTCHours()).padStart(2, '0');
            const minutes = String(duration.getUTCMinutes()).padStart(2, '0');
            const seconds = String(duration.getUTCSeconds()).padStart(2, '0');
            timerElement.textContent = `${hours}:${minutes}:${seconds}`;
        }

        // Function to add a record to the table
        function addRecord() {
            const task = taskSelect.value;
            const endTime = new Date();
            const duration = new Date(endTime - startTime);
            const hours = String(duration.getUTCHours()).padStart(2, '0');
            const minutes = String(duration.getUTCMinutes()).padStart(2, '0');
            const seconds = String(duration.getUTCSeconds()).padStart(2, '0');
            let note = '';

            // Show notes prompt only for specific tasks
            if (task === 'Task 1' || task === 'Task 2') {
                note = prompt("Enter a note for this record:");
            }

            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td class="border p-3">${endTime.toLocaleDateString()}</td>
                <td class="border p-3">${memberNameElement.textContent}</td>
                <td class="border p-3">${task}</td>
                <td class="border p-3">${startTime.toLocaleTimeString()}</td>
                <td class="border p-3">${endTime.toLocaleTimeString()}</td>
                <td class="border p-3">${hours}:${minutes}:${seconds}</td>
                <td class="border p-3">${note}</td>
            `;
            recordsTable.prepend(newRow);
            if (recordsTable.rows.length > 20) {
                recordsTable.deleteRow(20); // Keep only the last 20 records
            }
        }

        // Function to handle logout
        logoutButton.addEventListener('click', () => {
            window.location.href = 'index.html'; // Redirect to index.html
        });

        // Function to select a member
        selectMemberButton.addEventListener('click', () => {
            const selectedMember = document.getElementById('member-select').value;
            memberNameElement.textContent = selectedMember;
            memberSelection.classList.add('hidden');
            tabs.forEach(tab => tab.classList.remove('hidden'));
            document.getElementById('home').classList.remove('hidden'); 
        });
    </script>
</body>
</html>